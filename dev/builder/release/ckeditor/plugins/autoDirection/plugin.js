(function(){var d=RegExp("^\\s*[֑-߿יִ-﷽ﹰ-ﻼ]");CKEDITOR.plugins.add("autoDirection",{init:function(c){c.on("change",function(){var a;(a=c.getSelection())?(a=a.getRanges(),a=0<a.length&&a[0]):a=void 0;if(a&&a.startContainer.getUniqueId()===a.endContainer.getUniqueId()&&a.startOffset===a.endOffset){var b=a.startContainer.getText();b&&(b=d.test(b)?"rtl":"ltr",a=a.startContainer,a.$.nodeType===CKEDITOR.NODE_TEXT&&(a=a.getParent()),a.setAttribute("dir",b))}})}})})();